(global.webpackChunk_N_E=global.webpackChunk_N_E||[]).push([[459],{3921:(e,t,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return o(820)}])},1528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,o,r){return!1};("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1453:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(9854).Z;o(2271).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(2619).Z,a=o(518).Z,l=n(o(7378)),i=o(194),u=o(4087),c=o(9756),s=o(7868),f=o(1842),d=o(1528),p=o(1470),v={};function m(e,t,o,r){if(e&&i.isLocalURL(t)){Promise.resolve(e.prefetch(t,o,r)).catch((function(e){0}));var n=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;v[t+"%"+o+(n?"%"+n:"")]=!0}}var _=l.default.forwardRef((function(e,t){var o,n=e.href,_=e.as,y=e.children,g=e.prefetch,h=e.passHref,x=e.replace,b=e.shallow,j=e.scroll,C=e.locale,Z=e.onClick,w=e.onMouseEnter,k=e.onTouchStart,M=e.legacyBehavior,E=void 0===M?!0!==Boolean(!1):M,I=a(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);o=y,!E||"string"!==typeof o&&"number"!==typeof o||(o=l.default.createElement("a",null,o));var P=!1!==g,L=l.default.useContext(c.RouterContext),N=l.default.useContext(s.AppRouterContext);N&&(L=N);var R,O=l.default.useMemo((function(){var e=r(i.resolveHref(L,n,!0),2),t=e[0],o=e[1];return{href:t,as:_?i.resolveHref(L,_):o||t}}),[L,n,_]),T=O.href,B=O.as,S=l.default.useRef(T),q=l.default.useRef(B);E&&(R=l.default.Children.only(o));var A=E?R&&"object"===typeof R&&R.ref:t,z=r(f.useIntersection({rootMargin:"200px"}),3),H=z[0],U=z[1],D=z[2],K=l.default.useCallback((function(e){q.current===B&&S.current===T||(D(),q.current=B,S.current=T),H(e),A&&("function"===typeof A?A(e):"object"===typeof A&&(A.current=e))}),[B,A,T,D,H]);l.default.useEffect((function(){var e=U&&P&&i.isLocalURL(T),t="undefined"!==typeof C?C:L&&L.locale,o=v[T+"%"+B+(t?"%"+t:"")];e&&!o&&m(L,T,B,{locale:t})}),[B,T,U,C,P,L]);var F={ref:K,onClick:function(e){E||"function"!==typeof Z||Z(e),E&&R.props&&"function"===typeof R.props.onClick&&R.props.onClick(e),e.defaultPrevented||function(e,t,o,r,n,a,u,c,s,f){if("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&i.isLocalURL(o)){e.preventDefault();var d=function(){"beforePopState"in t?t[n?"replace":"push"](o,r,{shallow:a,locale:c,scroll:u}):t[n?"replace":"push"](o,{forceOptimisticNavigation:!f})};s?l.default.startTransition(d):d()}}(e,L,T,B,x,b,j,C,Boolean(N),P)},onMouseEnter:function(e){E||"function"!==typeof w||w(e),E&&R.props&&"function"===typeof R.props.onMouseEnter&&R.props.onMouseEnter(e),!P&&N||i.isLocalURL(T)&&m(L,T,B,{priority:!0})},onTouchStart:function(e){E||"function"!==typeof k||k(e),E&&R.props&&"function"===typeof R.props.onTouchStart&&R.props.onTouchStart(e),!P&&N||i.isLocalURL(T)&&m(L,T,B,{priority:!0})}};if(!E||h||"a"===R.type&&!("href"in R.props)){var G="undefined"!==typeof C?C:L&&L.locale,V=L&&L.isLocaleDomain&&d.getDomainLocale(B,G,L.locales,L.domainLocales);F.href=V||p.addBasePath(u.addLocale(B,G,L&&L.defaultLocale))}return E?l.default.cloneElement(R,F):l.default.createElement("a",Object.assign({},I,F),o)}));t.default=_,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1842:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(9854).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,o=e.rootMargin,c=e.disabled||!l,s=r(n.useState(!1),2),f=s[0],d=s[1],p=r(n.useState(null),2),v=p[0],m=p[1];n.useEffect((function(){if(l){if(c||f)return;if(v&&v.tagName){var e=function(e,t,o){var r=function(e){var t,o={root:e.root||null,margin:e.rootMargin||""},r=u.find((function(e){return e.root===o.root&&e.margin===o.margin}));if(r&&(t=i.get(r)))return t;var n=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),o=e.isIntersecting||e.intersectionRatio>0;t&&o&&t(o)}))}),e);return t={id:o,observer:a,elements:n},u.push(o),i.set(o,t),t}(o),n=r.id,a=r.observer,l=r.elements;return l.set(e,t),a.observe(e),function(){if(l.delete(e),a.unobserve(e),0===l.size){a.disconnect(),i.delete(n);var t=u.findIndex((function(e){return e.root===n.root&&e.margin===n.margin}));t>-1&&u.splice(t,1)}}}(v,(function(e){return e&&d(e)}),{root:null==t?void 0:t.current,rootMargin:o});return e}}else if(!f){var r=a.requestIdleCallback((function(){return d(!0)}));return function(){return a.cancelIdleCallback(r)}}}),[v,c,o,t,f]);var _=n.useCallback((function(){d(!1)}),[]);return[m,f,_]};var n=o(7378),a=o(2878),l="function"===typeof IntersectionObserver,i=new Map,u=[];("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7868:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateContext=t.GlobalLayoutRouterContext=t.LayoutRouterContext=t.AppRouterContext=void 0;var r=(0,o(2619).Z)(o(7378)),n=r.default.createContext(null);t.AppRouterContext=n;var a=r.default.createContext(null);t.LayoutRouterContext=a;var l=r.default.createContext(null);t.GlobalLayoutRouterContext=l;var i=r.default.createContext(null);t.TemplateContext=i},820:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>T});var r=o(7599),n=o(5034),a=o(169),l=o(2050),i=o(4246),u=o(7378),c=o(1623),s=o(1058),f=o(9e3),d=o(6591),p=o(189),v=o(4649),m=o(6535),_=o(42),y=o.n(_),g=o(7460),h=o(7588),x=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],b=u.forwardRef((function(e,t){var o=e.className,r=e.component,n=e.viewBox,a=e.spin,l=e.rotate,i=e.tabIndex,c=e.onClick,s=e.children,f=(0,m.Z)(e,x);(0,h.Kp)(Boolean(r||s),"Should have `component` prop or `children`."),(0,h.C3)();var d=u.useContext(g.Z),_=d.prefixCls,b=void 0===_?"anticon":_,j=d.rootClassName,C=y()(j,b,o),Z=y()((0,v.Z)({},"".concat(b,"-spin"),!!a)),w=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,k=(0,p.Z)((0,p.Z)({},h.vD),{},{className:Z,style:w,viewBox:n});n||delete k.viewBox;var M=i;return void 0===M&&c&&(M=-1),u.createElement("span",(0,p.Z)((0,p.Z)({role:"img"},f),{},{ref:t,tabIndex:M,onClick:c,className:C}),r?u.createElement(r,(0,p.Z)({},k),s):s?((0,h.Kp)(Boolean(n)||1===u.Children.count(s)&&u.isValidElement(s)&&"use"===u.Children.only(s).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),u.createElement("svg",(0,p.Z)((0,p.Z)({},k),{},{viewBox:n}),s)):null)}));b.displayName="AntdIcon";const j=b;var C=o(3311),Z=o.n(C),w=o(8038),k=o.n(w),M=o(9894),E=o.n(M),I=o(8662),P=o(2604),L=o(6677),N=o(2375),R=o(9853),O=o(3171);const T=function(){var e=(0,l.Z)(c.Z.useForm(),1)[0],t=(0,L.useRouter)(),o=(0,l.Z)(s.ZP.useMessage(),2),p=o[0],v=o[1],m=(0,l.Z)((0,R.FV)(O.Tc),2),_=(m[0],m[1]),y=(0,u.useState)({id:"",password:""}),g=y[0],h=y[1],x=function(e){var t=e.currentTarget,o=t.value,l=t.name;h((function(e){return(0,a.Z)((0,n.Z)({},e),(0,r.Z)({},l,o))}))},b=(0,u.useCallback)((function(e,t){return t?t.match(/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/)?Promise.resolve():Promise.reject(new Error("\uc62c\ubc14\ub978 \uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4.")):Promise.reject(new Error("\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."))}),[]);return(0,i.jsxs)(u.Fragment,{children:[(0,i.jsx)(k(),{children:(0,i.jsx)("title",{children:"\ub85c\uadf8\uc778"})}),v,(0,i.jsxs)("div",{className:"".concat(Z().login_layout),children:[(0,i.jsx)("div",{className:"".concat(Z().title),children:"Nextron Chat"}),(0,i.jsxs)(c.Z,{className:"".concat(Z().login_form),form:e,scrollToFirstError:!0,children:[(0,i.jsx)(c.Z.Item,{name:"email",rules:[{validator:b}],children:(0,i.jsx)(f.Z,{prefix:(0,i.jsx)(j,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\uc774\uba54\uc77c",name:"id",value:g.id,onChange:x})}),(0,i.jsx)(c.Z.Item,{name:"password",rules:[{required:!0,message:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."}],children:(0,i.jsx)(f.Z,{prefix:(0,i.jsx)(j,{style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",name:"password",value:g.password,onChange:x})}),(0,i.jsxs)(c.Z.Item,{children:[(0,i.jsx)(d.ZP,{type:"primary",htmlType:"submit",className:"".concat(Z().login_form_button),onClick:function(){g.id&&g.password&&(p.open({type:"loading",content:"\ub85c\uadf8\uc778 \uc911\uc785\ub2c8\ub2e4..",duration:0}),(0,I.e5)(P.I,g.id,g.password).then((function(){var e=(0,N.IO)((0,N.iH)(P.db,"users/".concat(P.I.currentUser.uid)));(0,N.U2)(e).then((function(e){e.val()&&(_({uid:P.I.currentUser.uid,email:e.val().email,nickname:e.val().nickname}),t.replace("/home"))}))})).catch((function(e){p.destroy(),p.open({type:"error",content:"\uc774\uba54\uc77c\uacfc \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694.",duration:2})})))},children:"Login"}),(0,i.jsx)("div",{className:"".concat(Z().join_title),children:(0,i.jsx)(E(),{href:"/join",children:(0,i.jsx)("a",{children:"\ucc98\uc74c\uc774\uc2e0\uac00\uc694?"})})})]})]})]})]})}},3171:(e,t,o)=>{"use strict";o.d(t,{Bt:()=>u,ER:()=>c,Tc:()=>i,ri:()=>a,sJ:()=>l});var r=o(9853),n=o(9224),a=(0,r.cn)({key:"roomId/".concat((0,n.Z)()),default:""}),l=(0,r.cn)({key:"roomTarget/".concat((0,n.Z)()),default:""}),i=(0,r.cn)({key:"user/".concat((0,n.Z)()),default:{uid:"",email:"",nickname:""}}),u=(0,r.cn)({key:"roomDate/".concat((0,n.Z)()),default:""}),c=(0,r.cn)({key:"groupId/".concat((0,n.Z)()),default:""})},3311:e=>{e.exports={login_layout:"login_login_layout__uSzO6",login_form:"login_login_form__ZuxHd",login_form_forgot:"login_login_form_forgot__AZuez",login_form_button:"login_login_form_button__zGjzt",title:"login_title___iWid",join_title:"login_join_title__q887e"}},9894:(e,t,o)=>{e.exports=o(1453)},2604:(e,t,o)=>{"use strict";o.d(t,{I:()=>c,db:()=>u});var r=o(880),n=o(8662),a=o(2375);const l={apiKey:"AIzaSyAftjPZ4MSu7EAVeQvbSHPHuaaQhJ3JQL4",authDomain:"tokyo-ring-376315.firebaseapp.com",projectId:"tokyo-ring-376315",storageBucket:"tokyo-ring-376315.appspot.com",messagingSenderId:"400820874062",appId:"1:400820874062:web:b196995c4e3ed323a2cc1f",measurementId:"G-6HVY02PMG1"},i=r.ZF(l),u=(0,a.N8)(i),c=(0,n.v0)()},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},1808:e=>{"use strict";e.exports=require("net")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")}},e=>{e.O(0,[195,678,598,303,774,888,179],(()=>{return t=3921,e(e.s=t);var t}));var t=e.O();_N_E=t}]);